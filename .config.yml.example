# Git Turnouts Configuration
# ==========================
# This file manages configuration for ALL your projects from one central location.
# It lives in the git-turnouts installation directory.
#
# Quick start:
#   git-turnouts config init    # Creates .config.yml from this template
#   git-turnouts config show    # View current configuration and detected project
#
# Project names are automatically detected from your repository directory names.
# Example: /Users/you/projects/my-app â†’ project name is "my-app"
#
# CONFIGURATION HIERARCHY:
# =======================
# All sections support both 'global' (applies to all projects) and 'projects'
# (applies to specific projects) settings. Project-specific settings override
# global settings. All settings are optional and have sensible defaults.

# Worktree Configuration
# ----------------------
worktree:
  # Global settings apply to all projects unless overridden
  global:
    # Base directory for all worktrees
    # The project name will automatically be added as a subdirectory
    # Result: ~/worktrees/{project-name}/{branch-name}
    # Default (if not specified): ../worktree (auto-detected)
    # base_dir: ~/worktrees

    # Files to copy from main worktree to new worktrees
    # Useful for environment files, editor configs, etc.
    # Default (if not specified): none
    # copy_files:
    #   - .editorconfig
    #   - .env.example
    #   - .nvmrc
    #   - .ruby-version
    #   - .prettierrc
    #   - .eslintrc.js
    #   - .idea/codeStyles/

  # Project-specific settings override global settings
  # The 'name' must match your repository's directory name exactly
  # Example: If your repo is at ~/code/my-app, use name: my-app
  projects:
    # - name: my-app
    #   base_dir: ~/custom/my-app
    #   copy_files:
    #     - .editorconfig
    #     - .env.local
    # - name: another-project
    #   base_dir: /tmp/another-project
    #   copy_files:
    #     - .env.example
    # - name: critical-project
    #   base_dir: ~/production/critical
    #   # No copy_files specified, uses global setting

# Default Behavior
# ----------------
defaults:
  # Global default behavior for all projects
  global:
    # Default IDE/application to open when creating worktrees
    # Options: idea, code, iterm, warp, finder
    # Default (if not specified): idea
    # open_with: idea

  # Project-specific default behavior
  # Overrides global setting for specific projects
  projects:
    # - name: my-app
    #   open_with: code
    # - name: backend-project
    #   open_with: idea
    # - name: frontend-project
    #   open_with: code

# Branch Protection
# -----------------
protection:
  # Global branch protection for all projects
  global:
    # Branches that cannot be deleted when removing worktrees
    # The worktree will be removed, but the branch will remain
    # Note: 'main' and 'master' are ALWAYS protected (even if not listed)
    # Default (if not specified): main, master only
    # protected_branches:
    #   - develop
    #   - staging
    #   - production
    #   - release

  # Project-specific branch protection
  # Overrides global setting for specific projects
  # Note: 'main' and 'master' are ALWAYS protected regardless
  projects:
    # - name: my-app
    #   protected_branches:
    #     - develop
    #     - staging
    #     - production
    # - name: experimental-project
    #   protected_branches:
    #     # Only main/master protected for this project

# Removal Behavior
# ----------------
remove:
  # Global removal behavior for all projects
  global:
    # Automatically run 'git worktree prune' after removing worktrees
    # This cleans up stale worktree references
    # Options: true, false, yes, no, 1, 0
    # Default (if not specified): true
    # auto_prune: true

  # Project-specific removal behavior
  # Overrides global setting for specific projects
  projects:
    # - name: my-app
    #   auto_prune: false
    # - name: another-project
    #   auto_prune: true

# Configuration Examples
# ----------------------
#
# Example 1: Minimal configuration (VS Code user, all projects)
# -------------------------------------------------------------
# defaults:
#   global:
#     open_with: code
#
# Example 2: Global worktree location with file copying
# -----------------------------------------------------
# worktree:
#   global:
#     base_dir: ~/dev/worktrees
#     copy_files:
#       - .env.example
#       - .editorconfig
#
# Example 3: Mixed global and project-specific settings
# -----------------------------------------------------
# worktree:
#   global:
#     base_dir: ~/worktrees
#     copy_files:
#       - .editorconfig
#   projects:
#     - name: critical-app
#       base_dir: ~/production/critical
#       copy_files:
#         - .editorconfig
#         - .env.production
# defaults:
#   global:
#     open_with: code
#   projects:
#     - name: backend-services
#       open_with: idea
# protection:
#   global:
#     protected_branches:
#       - develop
#   projects:
#     - name: critical-app
#       protected_branches:
#         - develop
#         - staging
#         - production
# remove:
#   global:
#     auto_prune: true
#   projects:
#     - name: experimental
#       auto_prune: false
#
# Example 4: All global settings (no project overrides)
# ----------------------------------------------------
# worktree:
#   global:
#     base_dir: ~/worktrees
#     copy_files:
#       - .env.example
#       - .nvmrc
# defaults:
#   global:
#     open_with: code
# protection:
#   global:
#     protected_branches:
#       - develop
#       - staging
# remove:
#   global:
#     auto_prune: true
#
# HARDCODED DEFAULTS (when not specified):
# ========================================
# worktree.global.base_dir: ../worktree (auto-detected from repo location)
# worktree.global.copy_files: [] (no files copied)
# defaults.global.open_with: idea
# protection.global.protected_branches: [main, master] (always protected)
# remove.global.auto_prune: true
